# Data Science Portfolio
### By Antonio Manuel González Ferreira

All materials in the present are part of the developing of the project under the name Anomaly Detection in Maritime Vessels Traffic done in cooperation with Saab Technologies. In this repository you will find my contributions to the  project during the minor in Applied Data Science @ The Hague University of Applied Data Sciences. 

All the code generated during the semester has been writen in _Python_, more precisely using _Jupyter Notebooks_. Hereunder you will find links to those in which I have taken part with explanations in more detail on the referenced files. Thus, this document serves as a index guideline.

_**Note**: One of the python packages used for visualizations preceding the final prototype is _iPyLeaflet_. The maps generated by this in-line geodata library are not available any more after having saved the notebook so some visualizations will be linked to a HTML file or a picture._

## Table of contents
   * [Table of contents](#table-of-contents)
   * [Introduction](#Introduction-to-the-project)
      * [Project's Value](#projects-value)
      * [What is an anomaly?](#what-is-an-anomaly)
   * [About the data](#about-the-data)
      * [Codebook](#codebook)
      * [Data Exploration](#data-exploration)
       * [visualization](#visualization)
## Introduction to the project
### Project's Value
&emsp;Over the past decades there has been a significant rise in maritime traffic. This means that managing this traffic is an increasingly difficult task due to the amount of data that needs to be processed. Unfortunately, by the time the sea routes are becoming more congested, most of the managing methods and prococols (traditionally hand-operated) are overwhelming operators arising a descent on its efficiency.

&emsp;Data science has a lot to do to improve the maritime services and vigilance and Anomaly Detection is a really valuable field to put research efforts, primarily because of a fact: Unguarded maritime traffic can lead to ilegal trade, fish poaching, collissions that can supose high costs and a long list preventable troubles on harbours.</p>

&emsp;There is a lot of literature on the topic but as it is a highly transversal issue, the methods to detect anomalies are not standarized and depend much about the field to which we want to apply it.

### What is an anomaly?

&emsp;In daily terms a maritime vessel anomaly can be defined as a deviation from the normal behavior of a ship under previously studied circunstances. This delimitation of the subject can seem to be not accurate enough but that is why this is an up-to-date topic. Nevertheless and with this subjacent concept present, during the literature study phase of the project we could reach more mathematical clarity arround the concept. According to the product owner, the current definition about anomaly detection in Saab is standarized as:

1. Three/four times out of the standard deviation when following a route.
2. Two times out of the standard deviation particularily in terms of speed.
3. Making sudden course changes/movements.

## About the data
### Codebook
&emsp;It a CSV file with 10 columns. The file is 3.9GBs and contains 4.2 million rows. The origin of the data is AIS data captured by Saab, integrated with their own radar data.

&emsp;A codebook with some basic details about the data can be found [here](https://github.com/antoniomgf1998/Portfolio/blob/master/Codebook.ipynb).

### Collecting the data

&emsp;The data we have been dealing with is AIS data collected by Saab radars nearby Hong Kong's harbour. AIS stands for Automatic Identification System, preprocessing the data is a tough task as traducing the information received by the radars to useful information involves filtering noise and figure out what is going on under some spetial circunstances such as two ships overlaping in front of a radar with different sizes, speeds, etc. That task was given done to us by Saab tracking specialists. Anyway during the project we found some issues with the data. To see some of those deffects on the data see the section [Visualization](#visualization).

### Data exploration

&emsp;At the beginning of the project we had some trouble to get in touch with the data, as we are dealing with confidential data, we were involved in a lot of burocracy delays within the first weeks due to the signing and processing of the NDA's and moving the data to the University servers. 
&emsp;It was not until week 6 when we received the real data. During that period I had a lot of curiosity about the data so I tried to encourage the team to use a Kaggle dataset to start preparing some visualizations as AIS data is the most common way to identify ships all arround the worls and the scalability of the work that we would do was high. With that on mind, we started doing some visualizations on the australian dataset that can be followed [here](https://www.operations.amsa.gov.au/Spatial/DataServices/DigitalData). As can be seen in the link, the information is directly provided by the Australian Government and its free to access it. 
&emsp;Finally we got the access to the data and, as planned, it was really easy to change the datatype.

#### iPyLeaflet & iPyWidgets
&emsp;I have been mainly in charge of the visualizations during the project until developing the prototype when our needs of changed to offline mapping. On the first days I started looking for a package on the internet to visualize our data. Finally I chose [ipyleaflet](https://ipyleaflet.readthedocs.io/en/latest/).

> ipyleaflet is an interactive widgets library, it is based on ipywidgets. This means that everything in ipyleaflet (e.g. the Map, TileLayers, Markers…) is interactive: you can dynamically update attributes from Python or from the Notebook interface.

&emsp;One of the best points of this package is the interactivity that can be established easily with [iPyWidgets](https://ipywidgets.readthedocs.io/en/latest/) to dinamically change the visualizations inline on our Jupyter notebooks.


